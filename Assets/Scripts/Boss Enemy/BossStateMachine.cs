using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class BossStateMachine
{
    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // *               Public Fields                                                                                                                                                                                * 
    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // Debug Values ---------------------------------------------------------------------------------------------------------------

    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // *               Private/Protected Attributes                                                                                                                                                                 * 
    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // Object References ----------------------------------------------------------------------------------------------------------

    // State Machine Attributes ---------------------------------------------------------------------------------------------------
    private BossState currentState;

    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // *               SetState Function                                                                                                                                                                            * 
    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    public void SetState(BossState newState)
    {
        // Execute Exit instructions for previous currentState
        if (currentState != null)
        {
            currentState.Exit();
        }

        // Execute Enter instructions for new currentState
        currentState = newState;
        currentState.Enter();
        //Debug.Log("Current State has been updated to: " + currentState.ToString());
    }

    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // *               Update Function                                                                                                                                                                              * 
    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // Update is called once per frame
    public void Update()
    {
        // Execute Update instructions for currentState
        currentState.Update();
        // Execute CheckTransition instructions for currentState
        currentState.CheckTransition();
    }

    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // *               Fixed Update Function                                                                                                                                                                        * 
    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // FixedUpdate is called at set intervals
    public void FixedUpdate()
    {
        // Execute FixedUpdate instructions for currentState
        currentState.FixedUpdate();
    }

    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    // *               Get/Set Functions                                                                                                                                                                            * 
    // --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    BossState returnCurrentState()
    {
        return currentState;
    }
}
